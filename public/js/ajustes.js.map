{"version":3,"sources":["ajustes.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ajustes.js","sourcesContent":["$(document).ready(function () {\n\n    $(\"#modalCargando\").modal();\n\n    var mydata = [\n    ];\n\n    var  token, url, data;\n    token = $('input[name=_token]').val();\n\n    $.ajax({\n        url: subfolder +'/ajustes',\n        headers: {'X-CSRF-TOKEN': token},\n        type: 'GET',\n        datatype: 'JSON',\n        data: {'idAdenda':$('#idAdenda').val()},\n        success: function (resp) {\n            $('#modalCargando').modal('hide');\n            if(resp.ajustes != null){\n                $('#noregister').hide();\n                $.each(resp.ajustes, function (key, value) {\n                    item = {}\n                    item [\"id\"] = value.id_ajuste;\n                    item [\"nro_documento\"] = value.nro_documento;\n                    item [\"nro_ajuste\"] = value.nro_ajuste;\n                    item [\"fecha\"] = value.fecha;\n                    item [\"descripcion\"] = value.descripcion;\n                    item [\"cant_items\"] = value.cant_items;\n                    item [\"costo\"] = value.costo;\n                    item [\"utilidad\"] = value.utilidad;\n                    item [\"admin\"] = value.admin;\n                    item [\"subtotal\"] = value.subtotal;\n                    item [\"itbms\"] = value.itbms;\n                    item [\"total\"] = value.total;\n                    mydata.push(item);\n                });\n                // Configuration for jqGrid Example 1\n                $(\"#table_list_6\").jqGrid({\n                    data: mydata,\n                    datatype: \"local\",\n                    height: 330,\n                    autowidth: true,\n                    shrinkToFit: false,\n                    rowNum: 14,\n                    rowList: [10, 20, 30],\n                    colNames: ['No. de documento', 'No. de ajuste', 'Fecha de ajuste', 'Cant. Items', 'Descripcion', 'Costo','Utilidad','Admin.','Subtotal','ITBMS','Total', 'Opciones'],\n                    colModel: [\n                        {name: 'nro_documento', index: 'nro_documento', width: 160, sortable: true, align: 'center'},\n                        {name: 'nro_ajuste', index: 'nro_ajuste', width: 140, align: \"right\", align: 'center', formatter:'showlink', formatoptions:{baseLinkUrl:subfolder +'/ajuste_detail', idName:'idAjuste'}},\n                        {name: 'fecha', index: 'fecha', width: 140, sorttype: \"date\", formatter: \"date\", formatoptions : {srcformat : 'Y-m-d H:i',newformat : 'd/m/Y'},align: 'center'},\n                        {name: 'cant_items', index: 'cant_items', width: 100, sortable: true, align: 'center'},\n                        {name: 'descripcion', index: 'descripcion', width: 180, sorttype: \"date\",align: 'center'},\n                        {name: 'costo', index: 'costo', width: 100, formatter:'currency', formatoptions:{decimalSeparator:\".\", thousandsSeparator: \",\", decimalPlaces: 2, prefix: \"$\"}, sorttype: \"float\", align: 'right'},\n                        {name: 'utilidad', index: 'utilidad', width: 100, formatter:'currency', formatoptions:{decimalSeparator:\".\", thousandsSeparator: \",\", decimalPlaces: 2, prefix: \"$\"}, sorttype: \"float\", align: 'right'},\n                        {name: 'admin', index: 'admin', width: 100, formatter:'currency', formatoptions:{decimalSeparator:\".\", thousandsSeparator: \",\", decimalPlaces: 2, prefix: \"$\"}, sorttype: \"float\", align: 'right'},\n                        {name: 'subtotal', index: 'subtotal', width: 100, formatter:'currency', formatoptions:{decimalSeparator:\".\", thousandsSeparator: \",\", decimalPlaces: 2, prefix: \"$\"}, sorttype: \"float\", align: 'right'},\n                        {name: 'itbms', index: 'itbms', width: 100, formatter:'currency', formatoptions:{decimalSeparator:\".\", thousandsSeparator: \",\", decimalPlaces: 2, prefix: \"$\"}, sorttype: \"float\", align: 'right'},\n                        {name: 'total', index: 'total', width: 100, formatter:'currency', formatoptions:{decimalSeparator:\".\", thousandsSeparator: \",\", decimalPlaces: 2, prefix: \"$\"}, sorttype: \"float\", align: 'right'},\n                        {name: 'name', index: 'name', width: 90, align: 'center'}                    \n                    ],\n                    pager: \"#pager_list_6\",\n                    viewrecords: true,\n                    gridComplete: function() {\n                        var grid = $(\"#table_list_6\");\n                        var ids = grid.jqGrid('getDataIDs');\n                        for (var i = 0; i < ids.length; i++) {\n                            var rowId = ids[i];\n                            var checkOut = '<a data-toggle=\"modal\" class=\"btn-primary btn-sm\" style=\"color:white;\" onclick=\"loadModal('+rowId+')\">Opciones</a>';\n                            grid.jqGrid('setRowData', rowId, { name: checkOut });\n                        }\n                    },\n                    hidegrid: false,\n                    scrollOffset: 0\n                });\n            }\n        }\n    });\n\n    //Add responsive to jqGrid\n    $(window).bind('resize', function () {\n        var width = $('.jqGrid_wrapper').width();\n        $('#table_list_6').setGridWidth(width);\n    });\n});\n\nfunction loadModal(rowId){\n    var nameProject = jQuery('#table_list_6').jqGrid ('getCell', rowId, 'note');\n    $('#nameProject').html('');\n    $('#nameProject').append(nameProject);\n    $(\"#editAjusteLinkModal\").attr(\"href\", subfolder +\"/ajuste_editar?idAjuste=\"+rowId);\n    $(\"#viewAdendaLinkModal\").attr(\"href\", subfolder +\"/ajuste_detail?idAjuste=\"+rowId);\n    $(\"#createItemLinkModal\").attr(\"href\", subfolder +\"/item_crear?idAjuste=\"+rowId);\n    $(\"#exportAjusteExcel\").attr(\"href\", subfolder +\"/export_ajuste/excel/\"+rowId);\n    $(\"#exportAjustePdf\").attr(\"href\", subfolder +\"/export_ajuste/pdf/\"+rowId);\n    $(\"#idAdenda\").val(rowId);\n    $(\"#modal-form\").modal();\n}"]}